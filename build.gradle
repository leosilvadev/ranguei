import tasks.InstallNodeTask
import tasks.NpmInstallTask
import tasks.BowerInstallTask

apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'eclipse'
apply plugin: 'application'

version = '1.0'

sourceCompatibility = 1.8
targetCompatibility = 1.8

mainClassName = "com.ranguei.App"
applicationName = "ranguei"

repositories {
    mavenCentral()
	jcenter()
}

dependencies {
	compile("org.codehaus.groovy:groovy-all:2.3.10")
	compile('org.codehaus.gpars:gpars:1.2.1')
    compile(group: 'commons-collections', name: 'commons-collections', version: '3.2')
	compile(group: 'io.github.javaconductor', name: 'gserv', version: '0.9.9', ext: 'jar')
	compile('log4j:log4j:1.2.17')
    testCompile(group: 'junit', name: 'junit', version: '4.+')
}

test {
    systemProperties 'property': 'value'
}

uploadArchives {
    repositories {
       flatDir {
           dirs 'repos'
       }
    }
}

task installNode(type: InstallNodeTask)

task npmInstall(type: NpmInstallTask, dependsOn: ['installNode'])

task bowerInstall(type: BowerInstallTask, dependsOn: ['npmInstall'])

task stage(dependsOn: ['clean', 'bowerInstall', 'installApp'])